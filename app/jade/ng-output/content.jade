//- include ./swagger.jade
#floating-buttons
  - bool = { val: 'ws.connected', ok: 'connected', ng: 'connecting...' }
  include ./bool.jade

.row
  .col.s12
    ul.tabs
      //- '[attr.data-tooltip]'='auths[api]?.token ? "auth token: {{auths[api]?.token}}" : "connect to {{api}}"'
      li.tab.tooltipped(
        *ngFor=`#api of apis`
        '[attr.data-tooltip]'='auths[api]?.token ? "auth token: " + auths[api]?.token : "connect to " + api'
      )
        a(
          '[ngClass]'=`{ 'green-text': auths[api]?.token }`
          '(click)'=`load_ui(api)`
        ) {{api}}

.row
  ul.collapsible#scope-list(data-collapsible='expandable')
    li
      .collapsible-header.bold(
        '[ngClass]'=`{ 'active': !auths[api]?.token }`
      ) Scopes
      .collapsible-body
        #auth(#auth)
      
.row
  #functions(#functions).col.s3
  #input(#input).col.s6
  #resp(#resp).col.s9
    .row
      .col.s12
        ul.tabs
          - tabs = { rendered: 'Rendered', colored: 'Colored', raw: 'Raw' }
          - each id in Object.keys(tabs)
            li.tab.col.s3
              a(href=`#${id}`)= tabs[id]
      .col.s12
        .card
          .card-content
            pre#raw {{ raw | async }}
            pre#colored('innerHtml'='{{ colored | async }}')
            //- #expandable
            #rendered('innerHtml'='{{ rendered | async }}')

//- scalar(path=`[]`, value=`"foo"`, schema=`{}`)
//- scalar(path=`{{a}}`, value=`{{b}}`, schema=`{{c}}`)
//- scalar(val_path=`'b'`, schema_path=`'c'`)
//- scalar(val_path=`{{ val_path | async }}`, schema_path=`{{ schema_path | async }}`)
scalar(val_path=`{{val_path}}`, schema_path=`{{schema_path}}`)

#output(#output)

//- include ./test.jade
